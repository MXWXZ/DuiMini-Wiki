# 异常处理
DuiMini提供了一个异常处理类`UIException`

## 错误级别 ##
| 名称        | 说明             |
| :---------: | :--------------: |
| kEL_Normal  | 无错误           |
| kEL_Warning | 警告             |
| kEL_Error   | 错误（结束进程） |

## 错误码 ##
| 名称              | 说明           | 默认级别    |
| :---------------: | :------------: | :---------: |
| kEC_Success       | 无错误         | kEL_Normal  |
| kEC_FileFail      | 文件错误       | kEL_Error   |
| kEC_ThirdPartFail | 第三方函数错误 | kEL_Error   |
| kEC_IDInvalid     | 标识符不合法   | kEL_Warning |
| kEC_FormatInvalid | 格式不合法     | kEL_Warning |

*注：为了便于管理和异常处理，只允许调高错误级别，因为出现级别为`kEL_Error`错误的函数UI库将默认其必定执行成功。换言之，调低默认异常级别可能会导致内存泄漏、空指针等问题。

## 如何使用 ##
- 在异常处调用`UISetError`设置异常
- 调用`UIGetLastError`获取最后错误码，调用`UIGetLastErrorMsg`获取错误信息
- 调用`UIException::SetExtraFunc`来设置自定义的异常处理（返回true代表已经处理完异常，无需进行默认处理）\
函数原型：
```cpp
std::function<bool(ErrorLevel v_level, ErrorCode v_code, UStr v_msg)> ExtraFunc;
```