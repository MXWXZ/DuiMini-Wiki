# 消息响应
1. 继承自`UIWindow`的窗口类可以重载`MsgHandler`函数截获Windows消息（注意结束时要调用`UIWindow`的`MsgHandler`函数），参考Demo的MainDlg类：
	- 声明
        ```
        protected:
            // override message handler sample
            LRESULT MsgHandler(UINT v_msg, WPARAM v_wparam, LPARAM v_lparam) override;
        ```
    - 定义
        ```
        LRESULT MainDlg::MsgHandler(UINT v_msg, WPARAM v_wparam, LPARAM v_lparam) {
            switch (v_msg) {
            case WM_RBUTTONDBLCLK:
                MessageBox(GetHWND(), _T("Sample of override message handler!"),
                           _T("Demo"), MB_OK);
                break;
            }
            return UIWindow::MsgHandler(v_msg, v_wparam, v_lparam);
        }
        ```
    双击右键即可弹出对话框
2. 消息绑定
	- 处理函数格式：

		  bool FuncName(const UIEvent& v_event);
          
    - 处理函数将会最先执行，返回false则不执行默认处理，返回true执行默认处理。
            
	- 绑定消息(protected)
        ```
        MSG_MAP_BEGIN(MainDlg<类名>)
			ON_CONTROL_MSG(_T("name")<控件名>, kWM_LButtonClick<消息名>, FuncName<函数名>);
            ON_PARENT_MSG(UIWindow<父类名>)	// 需要包含父类默认映射时使用
			MSG_MAP_END
        ```
	- 消息类型

        |消息|WPARAM&LPARAM参考|说明|
        | :---: | :---: | :---: | :---: |
        |kWM_MouseEnter|WM_MOUSEMOVE|鼠标进入|
    	|kWM_MouseLeave|WM_MOUSEMOVE|鼠标离开|
    	|kWM_MouseMove|WM_MOUSEMOVE|鼠标移动|
    	|kWM_LButtonDown|WM_LBUTTONDOWN|左键按下|
    	|kWM_LButtonUp|WM_LBUTTONDOWN|左键弹起|
    	|kWM_LButtonClick|WM_LBUTTONDOWN|左键点击|
    	|kWM_LButtonDBClick|WM_LBUTTONDOWN|左键双击|
    	|kWM_RButtonDown|WM_LBUTTONDOWN|右键按下|
    	|kWM_RButtonUp|WM_LBUTTONDOWN|右键弹起|
    	|kWM_RButtonClick|WM_LBUTTONDOWN|右键点击|
    	|kWM_RButtonDBClick|WM_LBUTTONDOWN|右键双击|
        |kWM_Disable|NULL|控件被禁用|
        |kWM_Invisible|NULL|控件被隐藏|
        |kWM_Active|NULL|控件被启用|
        |kWM_Visible|NULL|控件被显示|
        |kWM_SkinChange|原skinid&新skinid|皮肤改变|
        |kWM_LangChange|原langid&新langid|语言改变|
        
3. 动态绑定
	- 处理函数格式相同
	- 成员函数：

			BindMsgHandler(控件名, 消息名, static_cast<MsgHandleFun>(&类名::函数名));
            
	- 普通函数：

			BindMsgHandler(控件名, 消息名, 函数名);
            
	- 解绑

			UnbindMsgHandler(控件名, 消息名);